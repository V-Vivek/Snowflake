# Secure Views in Snowflake

## Overview

Secure views enhance data privacy by restricting access to underlying data and view definitions. Unlike standard views, they avoid internal optimizations that might expose hidden data.

## Why Use Secure Views?

### Data Protection

Non-secure views may expose hidden data through internal optimizations. Secure views prevent this by not using such optimizations.

### Restricted View Definition

Standard views expose their definitions to users, which can be a security risk. Secure views limit this visibility to authorized users only.

## When to Use Secure Views

Use secure views for data privacy, especially to limit access to sensitive data. They are not recommended for views created for query convenience due to potential performance impacts.

**Tip:** Weigh the trade-off between data privacy and query performance when deciding to use secure views.

## Example of Data Exposure

A user with access to only red widgets might infer the existence of purple widgets with the following query:

```sql
SELECT *
FROM widgets_view
WHERE 1/iff(color = 'Purple', 0, 1) = 1;
```

A division-by-zero error indicates the presence of purple widgets.

## Creating Secure Views

Create secure views using the `SECURE` keyword in `CREATE VIEW` or `CREATE MATERIALIZED VIEW` commands. Convert existing views with `ALTER VIEW` or `ALTER MATERIALIZED VIEW` commands.

### Example

To create a secure view:

```sql
CREATE SECURE VIEW secure_widgets_view AS
SELECT *
FROM widgets
WHERE color = 'Red';
```

To convert an existing view to a secure view:

```sql
ALTER VIEW widgets_view SET SECURE;
```

**Note:** Error messages related to secure views might be redacted to protect sensitive information.
