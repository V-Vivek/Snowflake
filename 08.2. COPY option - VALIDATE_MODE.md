# VALIDATION_MODE in Snowflake

The `VALIDATION_MODE` option in Snowflake's `COPY` command is used to validate data files before loading them into a table. This option helps ensure data quality by allowing you to check for errors without actually loading the data. There are three scenarios for `VALIDATION_MODE`:

## Scenarios

### 1. `VALIDATION_MODE = RETURN_<n>_ROWS`

This mode validates the specified number of rows, if no errors are encountered; otherwise, it fails at the first error encountered in the rows. It is useful for quickly verifying that the data format and content are as expected.

**Example:**
```sql
COPY INTO my_table
FROM @my_stage
FILE_FORMAT = (TYPE = 'CSV')
PATTERN = '.*my_file.*'
VALIDATION_MODE = RETURN_10_ROWS;
```
In this example, the command will validate the first 10 rows from the files in the stage that match the wildcard pattern.

### 2. `VALIDATION_MODE = RETURN_ERRORS`

This mode returns all errors (parsing, conversion, etc.) across all files specified in the COPY statement. It is useful for identifying and troubleshooting specific issues in the data files.

**Example:**
```sql
COPY INTO my_table
FROM @my_stage
FILE_FORMAT = (TYPE = 'CSV')
PATTERN = '.*my_file.*'
VALIDATION_MODE = RETURN_ERRORS;
```
In this example, the command will return all errors found in the files in the stage that match the wildcard pattern.

### 3. `VALIDATION_MODE = RETURN_ALL_ERRORS`

This mode returns all errors across all files specified in the COPY statement, including files with errors that were partially loaded during an earlier load because the `ON_ERROR` copy option was set to `CONTINUE` during the load. It is useful for comprehensive error checking, especially when dealing with multiple files.

**Example:**
```sql
COPY INTO my_table
FROM @my_stage
FILE_FORMAT = (TYPE = 'CSV')
PATTERN = '.*my_file.*'
VALIDATION_MODE = RETURN_ALL_ERRORS;
```
In this example, the command will return all errors found in the files in the stage that match the wildcard pattern.


## Note

- `VALIDATION_MODE` does not support COPY statements that transform data during a load. If the parameter is specified, the COPY statement returns an error.

- `VALIDATION_MODE` isnâ€™t supported when you use the LOAD_MODE copy option for Snowflake-managed tables.

- Use the `VALIDATE` table function to view all errors encountered during a previous load. Note that this function also does not support COPY statements that transform data during a load.