# Iceberg Tables

## What is an Iceberg Table?
Iceberg is an open table format for huge analytic datasets. It is designed to improve on the performance and usability of existing table formats like Hive, while also providing features like schema evolution, partition evolution, and time travel.

## What is the Need for Iceberg Tables?
Iceberg tables address several limitations of traditional table formats:
- **Scalability**: Efficiently handle petabyte-scale tables.
- **Schema Evolution**: Support for adding, dropping, and renaming columns without rewriting data.
- **Partition Evolution**: Change partitioning strategies without rewriting data.
- **Time Travel**: Query historical versions of the table.
- **ACID Transactions**: Ensure consistency and isolation for concurrent writes.

## Table Format in Iceberg
Iceberg tables are composed of multiple layers of metadata and data files. The table format includes:
- **Metadata Layer**: Stores information about the table's schema, partitioning, and snapshots.
- **Data Layer**: Contains the actual data files in formats like Parquet, ORC, or Avro.

## Iceberg Catalog
The Iceberg catalog is responsible for managing table metadata and providing a consistent view of the table. It supports multiple backends, including Hive Metastore, AWS Glue, and custom implementations.

## Metadata Layer
### Metadata File
The metadata file contains the schema, partition spec, and a list of snapshots. It is the entry point for reading the table's metadata.

### Snapshots File / Manifest List
Manifest List represent the state of the table at a specific point in time. Each snapshot/manifest list includes a list of manifest files and other metadata. It is used to track the data files that are part of a snapshot.

### Manifest File
Manifest files list the data files and their associated metadata, such as partition values, min/max values and file statistics.

## Data Layer
### Data Files
Data files store the actual table data. They are typically in columnar formats like Parquet, ORC, or Avro, which are optimized for analytic queries.  
Snowflake supports Iceberg tables that use the Apache Parquet file format.